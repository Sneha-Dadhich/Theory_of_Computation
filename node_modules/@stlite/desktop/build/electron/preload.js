var i=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var k=Object.prototype.hasOwnProperty;var f=(e,r,t,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of g(r))!k.call(e,n)&&n!==t&&i(e,n,{get:()=>r[n],enumerable:!(s=c(r,n))||s.enumerable});return e};var l=e=>f(i({},"__esModule",{value:!0}),e);var P={};module.exports=l(P);var o=require("electron"),a=process.argv.find(e=>e.startsWith("--entrypoint="))?.split("=")[1],d=a&&JSON.parse(a);if(typeof d!="string")throw new Error("The `entrypoint` field must be a string.");var p=process.argv.find(e=>e.startsWith("--idbfs-mountpoints="))?.split("=")[1],W=p&&JSON.parse(p),A={entrypoint:d,idbfsMountpoints:W};o.contextBridge.exposeInMainWorld("appConfig",A);var m={readSitePackagesSnapshot:()=>o.ipcRenderer.invoke("readSitePackagesSnapshot"),readPrebuiltPackageNames:()=>o.ipcRenderer.invoke("readPrebuiltPackageNames"),readStreamlitAppDirectory:()=>o.ipcRenderer.invoke("readStreamlitAppDirectory")};o.contextBridge.exposeInMainWorld("archivesAPI",m);function y(){return Math.floor(Math.random()*1e6)}var I={USE_NODEJS_WORKER:process.argv.includes("--nodejs-worker"),initialize:()=>o.ipcRenderer.invoke("initializeNodeJsWorker"),postMessage:({data:e,onPortMessage:r})=>{console.debug("nodeJsWorkerAPI.postMessage",{data:e,onPortMessage:r});let t=r&&y();o.ipcRenderer.send("messageToNodeJsWorker",{data:e,portId:t}),t&&o.ipcRenderer.on(`nodeJsWorker-portMessage-${t}`,(s,n)=>{r(n)})},onMessage:e=>o.ipcRenderer.on("messageFromNodeJsWorker",(r,t)=>{console.debug("nodeJsWorkerAPI.onMessage",t),e(t)}),terminate:()=>o.ipcRenderer.invoke("terminateNodeJsWorker")};o.contextBridge.exposeInMainWorld("nodeJsWorkerAPI",I);
